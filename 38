/*  38. Leia uma data de nascimento de uma pessoa fornecida através de três números inteiros:
        Dia, Mês e Ano. Teste a validade desta data para saber se esta é uma data válida. Teste
        se o dia fornecido é um dia válido: dia > 0, dia <= 28 para o mês de fevereiro (29 se o
        ano for bissexto), dia 30 em abril, junho, setembro e novembro, dia 31 nos outros
        meses. Teste a validade do mês: mês > 0 e mês < 13. Teste a validade do ano: ano <= ano atual
        (use uma constante definida com o valor igual a 2025). Imprimir: “data vélida”
        ou “data inválida” no final da execução do programa.  */


#include <stdio.h>
#include <stdlib.h>

int main()
{
    int dia, mes, ano;
    int valido = 1;

    printf("Digite o dia: \n");
    scanf("%d", &dia);

    printf("Digite o mes: \n");
    scanf("%d", &mes);

    printf("Digite o ano: \n");
    scanf("%d", &ano);

    printf("A data que voce me informou eh: %02d/%02d/%02d\n", dia, mes, ano);

    if(ano > 2025)
    {
        valido = 0;
    }
    else
    {
        if(mes < 1 || mes > 12)
        {
            valido = 0;
        }
        else
        {
            switch(mes)
            {
                //meses com 31 dias
            case 1:
            case 3:
            case 5:
            case 7:
            case 8:
            case 10:
            case 12:
            {
                if(dia < 1 || dia > 31)
                {
                    valido = 0;
                }
                break;
            }

            //meses com 30 dias
            case 4:
            case 6:
            case 9:
            case 11:
            {
                if(dia < 1 || dia > 30)
                {
                    valido = 0;
                }
                break;
            }

            //Fevereiro (caso especial)
            case 2:
            {
                if((ano % 4 == 0 && ano % 100 != 0)||(ano % 400 == 0))
                {
                    //ano bissexto
                    if(dia < 1 || dia > 29)
                    {
                        valido = 0;
                    }
                }
                else
                {
                    //ano nao bissexto
                    if(dia < 1 || dia > 28)
                    {
                        valido = 0;
                    }
                }
                break;
            }
            //caso o mes nao seja nenhum dos anteriores
            default:
            {
                    valido = 0;
            }


            }
        }
    }

    //impressao do resultado final
    if (valido ==1)
    {
        printf("A data eh valida. \n");
    }
    else
    {
        printf("A data nao eh valida. \n");
    }

    system("pause");
    return 0;
}
